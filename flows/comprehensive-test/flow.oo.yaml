title: "%comprehensive-task-test%"
nodes:
  # Test trim-video task  
  - node_id: add-watermark#2
    title: "%add-video-watermark-2%"
    inputs_from:
      - handle: video_file
        value: /oomol-driver/oomol-storage/Drag-and-Drop Manual Creation in OOMOL.mp4
      - handle: watermark_type
        value: text
      - handle: watermark_text
        value: WATERMARK
      - handle: watermark_image
        value:
      - handle: position
        value: bottom-right
      - handle: opacity
        value: 0.8
      - handle: font_size
        value: 24
      - handle: font_color
        value: "#FFFFFF"
      - handle: padding
        value: 20
    task: self::add-watermark
    description: "%dasdsdas%"
  - node_id: extract-audio#1
    title: "%extract-audio-from-video-1%"
    inputs_from:
      - handle: video_file
        value: /oomol-driver/oomol-storage/video/Area22211.MP4
      - handle: output_format
        value: mp3
      - handle: audio_quality
        value: 192
    task: self::extract-audio
  - node_id: replace-audio#1
    title: "%replace-audio-1%"
    inputs_from:
      - handle: video_file
        value: /oomol-driver/oomol-storage/test/Area22211.MP4
      - handle: audio_file
        value: /oomol-driver/oomol-storage/飞书20251009-112957_converted_audio_trimmed.mp3
      - handle: sync_method
        value: stretch_audio
      - handle: audio_volume
        value: 1
    task: self::replace-audio
  - node_id: get-media-info#1
    title: "%1%"
    inputs_from:
      - handle: input_file
        value: /oomol-driver/oomol-storage/《酌见2》俞敏洪对话张朝阳#以价值观为导向的人生意义_audio.mp3
      - handle: output_format
        value: json
      - handle: include_streams
        value: true
      - handle: include_chapters
        value: false
    task: self::get-media-info
  - node_id: add-subtitles#1
    title: "%13%"
    inputs_from:
      - handle: video_file
      - handle: subtitle_file
      - handle: subtitle_style
        value: default
      - handle: font_name
        value: Arial
      - handle: font_size
        value: 20
      - handle: font_color
        value: "#FFFFFF"
      - handle: outline_color
        value: "#000000"
      - handle: subtitle_position
        value: bottom
      - handle: hard_subtitle
        value: true
      - handle: use_gpu
        value: true
      - handle: subtitle_language
        value:
    task: self::add-subtitles
  - node_id: merge-videos#1
    title: "合并视频 #1"
    inputs_from:
      - handle: video_files
        value:
          - /oomol-driver/oomol-storage/KUN - Jasmine (Official
            Video)_trimmed.mp4
          - /oomol-driver/oomol-storage/KUN - Jasmine (Official
            Video)_trimmed.mp4
      - handle: output_path
        value: /oomol-driver/oomol-storage/做梦/做梦 333.mp4
      - handle: codec
        value: libx264
      - handle: audio_codec
        value: aac
      - handle: crf
        value: 23
      - handle: preset
        value: medium
    task: self::merge-videos
