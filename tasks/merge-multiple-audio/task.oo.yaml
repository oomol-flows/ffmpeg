inputs_def:
  - handle: main_audio
    description: "Main audio file (e.g., voice, narration)"
    json_schema:
      type: string
      ui:widget: file
      ui:options:
        filters:
          - name: Audio Files
            extensions:
              - mp3
              - wav
              - aac
              - flac
              - ogg
              - m4a
        excludeAll: true
    nullable: false

  - handle: background_audio
    description: "Background audio file (e.g., background music)"
    json_schema:
      type: string
      ui:widget: file
      ui:options:
        filters:
          - name: Audio Files
            extensions:
              - mp3
              - wav
              - aac
              - flac
              - ogg
              - m4a
        excludeAll: true
    nullable: false

  - handle: merge_mode
    description: "Merge mode: overlay (mix together) or sequential (one after another)"
    json_schema:
      type: string
      enum:
        - "overlay"
        - "sequential"
    value: overlay
    nullable: false

  - handle: main_volume
    description: "Main audio volume (1.0 = original, 0.5 = half volume, 2.0 = double volume)"
    json_schema:
      type: number
      minimum: 0.0
      maximum: 3.0
    value: 1.0
    nullable: false

  - handle: background_volume
    description: "Background audio volume (1.0 = original, recommended 0.3-0.5 for background music)"
    json_schema:
      type: number
      minimum: 0.0
      maximum: 3.0
    value: 0.4
    nullable: false

  - handle: background_sync_method
    description: "How to sync background audio with main audio (overlay mode only)"
    json_schema:
      type: string
      enum:
        - "loop"
        - "stretch"
        - "trim"
    value: loop
    nullable: true

  - handle: fade_in_duration
    description: "Fade in duration in seconds (0 = no fade in)"
    json_schema:
      type: number
      minimum: 0
      maximum: 10
    value: 0
    nullable: false

  - handle: fade_out_duration
    description: "Fade out duration in seconds (0 = no fade out)"
    json_schema:
      type: number
      minimum: 0
      maximum: 10
    value: 0
    nullable: false

  - handle: output_format
    description: "Output audio format"
    json_schema:
      type: string
      enum:
        - "mp3"
        - "wav"
        - "aac"
        - "flac"
        - "ogg"
        - "m4a"
    value: mp3
    nullable: false

outputs_def:
  - handle: merged_audio
    description: "Merged audio file"
    json_schema:
      type: string
      ui:widget: save
      ui:options:
        filters:
          - name: MP3 Files
            extensions:
              - mp3
          - name: WAV Files
            extensions:
              - wav
          - name: AAC Files
            extensions:
              - aac
          - name: FLAC Files
            extensions:
              - flac
          - name: OGG Files
            extensions:
              - ogg
          - name: M4A Files
            extensions:
              - m4a
        excludeAll: true

executor:
  name: python
  options:
    entry: __init__.py
    spawn: false

title: "Merge Multiple Audio"
icon: ":carbon:audio-console:"
description: "Merge multiple audio files with volume control, supporting overlay (mix) or sequential modes, perfect for combining voice with background music"
