inputs_def:
  - handle: video_file
    description: "%input-video-file%"
    json_schema:
      type: string
      ui:widget: file
      ui:options:
        filters:
          - name: Video Files
            extensions:
              - mp4
              - avi
              - mov
              - mkv
              - webm
        excludeAll: true
    nullable: false

  - handle: subtitle_file
    description: "%subtitle-file-srt-vtt-or-ass-format%"
    json_schema:
      type: string
      ui:widget: file
      ui:options:
        filters:
          - name: Subtitle Files
            extensions:
              - srt
              - vtt
              - ass
              - ssa
        excludeAll: true
    nullable: false

  - group: Style Options
    collapsed: true

  - handle: subtitle_style
    description: "%subtitle-rendering-style%"
    json_schema:
      type: string
      enum:
        - "default"
        - "custom"
    value: default
    nullable: true

  - handle: font_name
    description: "%font-name-used-when-subtitle_style-is-custom%"
    json_schema:
      type: string
    value: Arial
    nullable: true

  - handle: font_size
    description: "%font-size-used-when-subtitle_style-is-custom%"
    json_schema:
      type: number
      minimum: 12
      maximum: 72
    value: 20
    nullable: true

  - handle: font_color
    description: "%font-color-used-when-subtitle_style-is-custom%"
    json_schema:
      type: string
      ui:widget: color
      ui:options:
        colorType: HEX
    value: "#FFFFFF"
    nullable: true

  - handle: outline_color
    description: "%outline-color-used-when-subtitle_style-is-custom%"
    json_schema:
      type: string
      ui:widget: color
      ui:options:
        colorType: HEX
    value: "#000000"
    nullable: true

  - handle: subtitle_position
    description: "%subtitle-position%"
    json_schema:
      type: string
      enum:
        - "bottom"
        - "top"
        - "center"
    value: bottom
    nullable: true

  - group: Advanced Options
    collapsed: true

  - handle: hard_subtitle
    description: "%burn-subtitles-into-video-hard-subtitle-vs-embed-as-stream-soft%"
    json_schema:
      type: boolean
    value: true
    nullable: true

  - handle: use_gpu
    description: "%enable-gpu-acceleration-for-video-encoding%"
    json_schema:
      type: boolean
    value: true
    nullable: true

  - handle: subtitle_language
    description: "%subtitle-language-code-leave-empty-for-auto-detect%"
    json_schema:
      type: string
      pattern: "^[a-z]{2,3}(-[A-Z]{2,4})?$"
      value: ""
    value:
    nullable: true

outputs_def:
  - handle: subtitled_video
    description: "%video-with-subtitles-added%"
    json_schema:
      type: string
      ui:widget: save
      ui:options:
        filters:
          - name: MP4 Files
            extensions:
              - mp4
          - name: MKV Files
            extensions:
              - mkv
          - name: AVI Files
            extensions:
              - avi
        excludeAll: true

executor:
  name: python
  options:
    entry: __init__.py
    spawn: false

title: "%add-video-subtitles%"
icon: ":carbon:closed-caption:"
description: "%add-subtitle-file-to-video-with-customizable-styling-and-positio%"
