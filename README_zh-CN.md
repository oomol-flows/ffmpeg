# FFmpeg

基于 FFmpeg 引擎的综合视频和音频处理工具包，为 OOMOL 平台提供多媒体处理可复用块集合。

## 概述

FFmpeg-NG 是一个 OOMOL 工作流项目，提供完整的视频和音频处理功能套件。它提供模块化、可复用的块，可以组合创建强大的多媒体处理工作流，无需深入了解 FFmpeg 命令行语法。

## 功能特性

### 视频处理
- **格式转换**：支持各种视频格式之间的转换（MP4、AVI、MOV、MKV、WebM 等）
- **视频编辑**：视频裁剪、调整大小、旋转和拼接
- **质量控制**：调整帧率、改变播放速度和视频压缩
- **视觉增强**：添加水印（文本或图像）和字幕
- **格式转换**：将视频转换为 GIF 格式

### 音频处理
- **音频提取**：从视频文件中提取音频轨道
- **格式转换**：音频格式转换（MP3、WAV、AAC、FLAC、OGG）
- **音频编辑**：音频剪切和音量调节
- **质量增强**：降噪和音频质量调整
- **音频合并**：将音频与视频流合并

### 媒体工具
- **媒体信息**：检索媒体文件的详细元数据
- **批量处理**：通过工作流链处理多个文件

## 可用块

### 视频块

| 块名称 | 用途 | 主要功能 |
|--------|------|----------|
| `convert-video-format` | 转换视频格式 | 支持主流格式，可自定义编解码器和质量预设 |
| `trim-video` | 提取视频片段 | 精确的开始时间和持续时间控制 |
| `resize-video` | 调整视频尺寸 | 保持纵横比或自定义尺寸 |
| `rotate-video` | 旋转视频方向 | 90°、180°、270° 旋转选项 |
| `change-framerate` | 修改视频帧率 | 多种方法的平滑帧率转换 |
| `change-speed` | 调整播放速度 | 视频加速或减速，音频同步 |
| `compress-video` | 减小文件大小 | 保质压缩，码率控制 |
| `concat-videos` | 合并多个视频 | 无缝视频拼接 |
| `add-watermark` | 添加品牌/保护 | 文本或图像水印，位置控制 |
| `add-subtitles` | 添加字幕轨道 | SRT 文件支持，可自定义样式 |
| `video-to-gif` | 创建 GIF 动画 | 将视频片段转换为优化的 GIF |

### 音频块

| 块名称 | 用途 | 主要功能 |
|--------|------|----------|
| `extract-audio` | 从视频提取音频 | 多种输出格式，质量控制 |
| `convert-audio-format` | 转换音频格式 | 支持 MP3、WAV、AAC、FLAC、OGG |
| `trim-audio` | 剪切音频片段 | 精确时间控制 |
| `adjust-volume` | 修改音频电平 | 音量增强/减少，削波保护 |
| `adjust-audio-quality` | 更改音频码率 | 不同用例的质量优化 |
| `audio-noise-reduction` | 清理音频轨道 | 去除背景噪音和失真 |
| `merge-audio-video` | 合并音视频 | 音频与视频流同步 |

### 工具块

| 块名称 | 用途 | 主要功能 |
|--------|------|----------|
| `get-media-info` | 分析媒体文件 | 提取元数据、时长、分辨率、编解码器 |

## 使用方法

### 基本工作流
1. **导入媒体**：使用文件输入组件选择源媒体
2. **处理**：根据需求链接处理块
3. **导出**：以所需格式保存处理后的媒体

### 示例工作流

**视频编辑流水线**：
```
输入视频 → 裁剪 → 调整大小 → 添加水印 → 转换格式 → 输出
```

**音频提取与处理**：
```
输入视频 → 提取音频 → 降噪 → 调整音量 → 转换格式 → 输出
```

**字幕添加**：
```
输入视频 + 字幕文件 → 添加字幕 → 输出视频
```

## 块配置

每个块都提供直观的配置选项：

- **文件输入**：拖放或浏览媒体文件
- **格式选择**：从支持的输出格式中选择
- **质量设置**：调整压缩、码率和编码参数
- **视觉控制**：水印位置、字幕样式、颜色设置
- **时间控制**：精确的开始/结束时间、持续时间设置

## 技术细节

- **引擎**：基于 FFmpeg，提供可靠的高质量媒体处理
- **平台**：为 OOMOL 工作流系统构建
- **语言**：Python 实现，Node.js 依赖
- **文件支持**：全面支持视频、音频和字幕文件格式

## 开始使用

1. 将项目导入到您的 OOMOL 工作空间
2. 使用可用块创建新工作流
3. 通过直观的 UI 配置每个块的参数
4. 连接块以创建您的处理流水线
5. 运行工作流来处理您的媒体文件

## 系统要求

- OOMOL 平台
- Python 3.11+
- Node.js（用于某些操作）
- FFmpeg（自动配置）

这个工具包通过可视化工作流使专业级视频和音频处理变得易于访问，消除了复杂命令行操作的需要，同时保持了 FFmpeg 的全部功能。